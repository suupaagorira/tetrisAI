# Tetris AI GUI ビューア

ブラウザで動作する公式風のプレイ画面を追加しました。AI のプレイを視覚的に確認したり、手動操作でゲームを試すことができます。

## 機能概要

- テトリスガイドライン準拠の 10×20 フィールドとゴースト、ホールド、ネクストキュー表示
- スコア、ライン、レベル、コンボ、バックトゥバック (B2B) のリアルタイム表示
- 手動操作と AI オートプレイをワンキーで切り替え可能
- ブラウザキャンバスによる滑らかな描画と実機風の配色

## 起動方法

```bash
npm install        # まだ依存関係を入れていない場合
npm run gui        # 開発サーバ起動 (http://localhost:5173)
```

`--watch` 付きでホットリロードしたい場合は次を利用できます。

```bash
npm run gui:watch
```

サーバ起動後にブラウザで `http://localhost:5173` を開くと GUI 画面が表示されます。

## 操作キー

| 操作        | キー                                     |
| ----------- | ---------------------------------------- |
| 左右移動    | ← / →                                    |
| ソフトドロップ | ↓                                      |
| ハードドロップ | Space                                  |
| 回転        | Z / X / ↑ / A / S / Q (180°)             |
| ホールド    | Shift / C                                |
| オート切替  | P                                        |
| リセット    | R                                        |

オートプレイ中に手動操作を行うと自動的にオートが停止し、続きから自身でプレイできます。

## 実装メモ

- `src/gui/client.ts` がブラウザ側のレンダラー兼コントローラーです。`esbuild` でバンドルされ、`dist/gui/client.js` として提供されます。
- `src/gui/server.ts` が開発用の軽量サーバです。`express` で `public/` 以下の静的アセットを配信しつつ、必要に応じて `esbuild` の watch モードを使います。
- GUI ビューアは既存の `TetrisGame` と `PatternInferenceAgent` をそのまま利用しており、ゲーム状態の計算は共通のコアロジックで行われます。
